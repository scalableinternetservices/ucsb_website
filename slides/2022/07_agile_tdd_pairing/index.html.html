<html>
  <head>
    <meta charset="utf-8" />
    <title>Agile, TDD, CI, and Pairing</title>
    <style>
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif);
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: 400;
        margin-bottom: 0;
      }
      .remark-slide-content h1 { font-size: 2.5em; }
      .remark-slide-content h2 { font-size: 2em; }
      .remark-slide-content h3 { font-size: 1.6em; }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      li p { line-height: 1.25em; }
      .red { color: #fa0000; }
      .large { font-size: 2em; }
      a, a > code {
        color: rgb(249, 38, 114);
        text-decoration: none;
      }
      blockquote {
        border-left: 0.3em solid rgba(0,0,0,0.5);
        padding: 0 15px;
        font-style: italic;
      }
      code {
        background: #e7e8e2;
        border-radius: 5px;
      }
      img {
        max-height: 100%;
        max-width: 100%;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-code-line-highlighted     { background-color: #373832; }
      .clear { clear: both; }
      #slideshow .slide .content code { font-size: 0.8em; }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 1em;
      }
      .background-blue {
        background-color: deepskyblue;
      }
      .background-green {
        background-color: springgreen;
      }
      .background-pink {
        background-color: deeppink;
      }

      /* Two-column layout */
      .left-column {
        width: 49%;
        float: left;
      }
      .right-column {
        width: 49%;
        float: right;
      }
      .left-column20 {
        width: 20%;
        float: left;
      }
      .right-column80 {
        width: 79%;
        float: right;
      }
      .left-column30 {
        width: 30%;
        float: left;
      }
      .right-column70 {
        width: 69%;
        float: right;
      }
      .left-column40 {
        width: 40%;
        float: left;
      }
      .right-column60 {
        width: 59%;
        float: right;
      }

      /* Table layout */
      table {
        background: #f5f5f5;
        margin: 30px auto;
        text-align: left;
        width: 100%;
      }
      th {
        background: linear-gradient(#777, #444);
        color: #fff;
        font-weight: bold;
        padding: 10px 15px;
      }
      td {
        border-right: 1px solid #fff;
        border-left: 1px solid #e8e8e8;
        border-top: 1px solid #fff;
        border-bottom: 1px solid #e8e8e8;
        padding: 10px 15px;
      }

    </style>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  </head>
  <body>
    <textarea id="source">
<p>class: center, middle</p>

<h1 id="agile-tdd-ci-and-pairing">Agile, TDD, CI, and Pairing</h1>

<h2 id="cs291a-scalable-internet-services">CS291A: Scalable Internet Services</h2>

<h3 id="dr-bryce-boe">Dr. Bryce Boe</h3>

<hr />

<h1 id="todays-agenda">Today’s Agenda</h1>

<ul>
  <li>
    <p>Agile Software Development</p>
  </li>
  <li>
    <p>Test Driven Development</p>
  </li>
  <li>
    <p>Continuous Integration</p>
  </li>
  <li>
    <p>Github Workflow</p>
  </li>
  <li>
    <p>Pair Programming</p>
  </li>
</ul>

<hr />

<p>class: center inverse middle</p>

<h1 id="agile-software-development">Agile Software Development</h1>

<hr />

<h1 id="talent-shortage">Talent Shortage</h1>

<p><img src="tc_talent.png" alt="TC Talent Shortage Snippet" /></p>

<p>Source:
https://techcrunch.com/2013/05/05/there-is-in-fact-a-tech-talent-shortage-and-there-always-will-be/</p>

<hr />

<h1 id="talent-shortage-1">Talent Shortage</h1>

<blockquote>
  <p>Technology is no longer just driving tech companies — it is such an economic
force that it has a hand in how nearly every other sector grows.</p>
</blockquote>

<blockquote>
  <p>All Industries Become Tech Industries.</p>
</blockquote>

<blockquote>
  <p>Since 2010, the number of tech-related jobs in the U.S. has increased by
around 200,000 every year, and the U.S. economy is becoming increasingly
reliant on tech labor for its survival.</p>
</blockquote>

<p>Source:
https://readwrite.com/2019/07/04/today-the-tech-talent-shortage-is-everybodys-problem/</p>

<hr />

<h1 id="scarce-resources">Scarce Resources</h1>

<p>Software Engineering requires judicious use of scarce resources.</p>

<p><strong>You</strong> are one of those scarce resources.</p>

<p>Modern techniques are designed to optimize for your time.</p>

<h2 id="modern-software-development-techniques">Modern Software Development Techniques</h2>

<ul>
  <li>
    <p>Agile and Scrum</p>
  </li>
  <li>
    <p>Test Driven Development (TDD)</p>
  </li>
  <li>
    <p>Continuous Integration (CI)</p>
  </li>
  <li>
    <p>Github work flow</p>
  </li>
  <li>
    <p>Pair programming (pairing)</p>
  </li>
</ul>

<hr />

<h1 id="understanding-agile">Understanding Agile</h1>

<blockquote>
  <h2 id="sprint-2-starts-october-12">Sprint 2: Starts October 12</h2>
</blockquote>

<blockquote>
  <ul>
    <li>Conduct a <strong>retrospective</strong> on how the last sprint went and how your group
can improve.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
    <li>Decide on a sprint commitment.</li>
  </ul>
</blockquote>

<blockquote>
  <ul>
    <li>Implement stories from the current sprint.</li>
  </ul>
</blockquote>

<p>Soon guidelines like the above should make complete sense to you.</p>

<hr />

<h1 id="agile-and-scrum">Agile and Scrum</h1>

<p>.left-column[</p>
<blockquote>
  <p>What is Agile software development?</p>
</blockquote>

<p><strong>Agile</strong> is a collection of different approaches for developing software
    that has emerged as dominant over the last 15+ years.</p>

<p><strong>Scrum</strong> is a popular form of Agile software development.
]</p>

<p>.right-column.center[
  <img src="modern_agile_wheel_english.png" alt="Modern Agile" /></p>

<p><a href="http://modernagile.org/">Modern Agile</a>
]</p>

<hr />

<p>class: center inverse middle</p>

<h1 id="the-world-before-agile">The World Before Agile</h1>

<hr />

<h1 id="waterfall">Waterfall</h1>

<p>The origin of the <em>Waterfall</em> model is generally misattributed to Winston
Royce, from his paper: “Managing the Development of Large Software Systems”</p>

<p>In reality, he wasn’t the first, and didn’t advocate for what became Waterfall
software engineering.</p>

<p>Herbert Benington would be a more accurate attribution.</p>

<p>Reference: *1970, Proceedings of IEEE WESCON 26 (August): 1–9.</p>

<hr />

<h1 id="waterfall-diagram">Waterfall Diagram</h1>

<p>.center[<img src="waterfall.png" alt="Waterfall" />]</p>

<p>This diagram from Royce’s paper is frequently cited.</p>

<hr />

<h1 id="waterfall-process">Waterfall Process</h1>

<p>Each stage performs its role and then passes its deliverable to the next stage.</p>

<p>E.g., Design must be completed before coding, which in-turn must be completed
before testing.</p>

<p>Strength: This approach allows for deep specialization.</p>

<p>Waterfall works great for areas like manufacturing where it is <em>expensive</em> to
alter the design due to issues detected in latter stages.</p>

<p>With software it’s incredibly cheap to adapt the process along the way.</p>

<hr />

<h1 id="waterfall-continued">Waterfall Continued</h1>

<p>The Waterfall technique works best when you have complete knowledge. With
respect to software development:</p>

<ul>
  <li>
    <p>Software testers and developers know everything about how the software will
be deployed</p>
  </li>
  <li>
    <p>Software developers have few if any <em>surprises</em> during testing</p>
  </li>
  <li>
    <p>Designers have complete understanding of the difficulty of each design
decision</p>
  </li>
  <li>
    <p>Requirements team understands the impact on design and development</p>
  </li>
</ul>

<p>In practice most of these items are not met, thus the waterfall model inhibits
the software development process.</p>

<hr />

<h1 id="agile-manifesto">Agile Manifesto</h1>

<p>In 2001, the “Agile Software Manifesto” was written by Kent Beck, Ken Schwaber,
Jeff Sutherland, and Dave Thomas.</p>

<h2 id="agile-values">Agile Values</h2>

<ul>
  <li>
    <p><strong>Individuals and interactions</strong> over processes and tools</p>
  </li>
  <li>
    <p><strong>Working software</strong> over comprehensive documentation</p>
  </li>
  <li>
    <p><strong>Customer collaboration</strong> over contract negotiation</p>
  </li>
  <li>
    <p><strong>Responding to change</strong> over following a plan</p>
  </li>
</ul>

<hr />

<h1 id="individuals-and-interactions">Individuals and Interactions</h1>

<p>… over processes and tools</p>

<p>.center[<img src="rugby_scrum.jpg" alt="Rugby Scrum" />]</p>

<hr />

<h1 id="working-software">Working Software</h1>

<p>… over comprehensive documentation</p>

<h2 id="agile">Agile</h2>

<ul>
  <li>Focus on deliverable features</li>
  <li>Automated acceptance, unit, functional, and integration tests</li>
</ul>

<h2 id="waterfall-1">Waterfall</h2>

<ul>
  <li>Extensive documented requirements (before any prototype)
    <ul>
      <li>Style guide</li>
      <li>Commenting rules</li>
      <li>Component interaction</li>
      <li>User interface requirements</li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="customer-collaboration">Customer Collaboration</h1>

<p>… over contract negotiation</p>

<p>.left-column.center[
  <img src="stock_collaboration.png" alt="Three people looking at computer" /></p>

<p>“Here’s what we’ve got so far.”</p>

<p>“That’s great, but it doesn’t quite fit my workflow.”</p>

<p>“No problem, what’s your workflow so we can suit your needs.”
]</p>

<p>.right-column.center[
  <img src="cartoon_programmer.png" alt="Software Developer" /></p>

<p>“I’m sure if I just build what they’ve asked for, they’ll love it.”
]</p>

<hr />

<h1 id="tree-swing-cartoon">Tree Swing Cartoon</h1>

<p>.center[<img src="tree-swing-project-management-large.png" alt="Tree Swing" />]</p>

<hr />

<h1 id="responding-to-change">Responding to Change</h1>

<p>… over following a plan</p>

<ul>
  <li>
    <p>Unexpected issues will occur during the product development.</p>
  </li>
  <li>
    <p>Responding to change involves deciding how to best proceed when such issues
occur.</p>
  </li>
</ul>

<p>For example:</p>

<blockquote>
  <p>What do you do when half your team is suddenly out sick?</p>
</blockquote>

<p>–</p>

<blockquote>
  <p>What do you do when a simple feature addition turns out to be
significantly more complicated?</p>
</blockquote>

<hr />

<h1 id="scrum">Scrum</h1>

<p>Scrum is a specific type of Agile software development.</p>

<p>It was developed in the early 1990s by Ken Schwaber and Jeff Sutherland.</p>

<p>Consider using a simplified version of Scrum for project 3 and the primary project.</p>

<h2 id="other-agile-alternatives">Other Agile Alternatives</h2>

<ul>
  <li>
    <p><strong>Kanban</strong>: Focus on controlling WIP (work in progress), no <strong>sprints</strong></p>
  </li>
  <li>
    <p>Extreme Programming (XP): Emphasis on feedback systems through automated
testing and pair programming</p>
  </li>
</ul>

<hr />

<h1 id="scrum-roles">Scrum Roles</h1>

<h2 id="product-owner">Product Owner</h2>

<p>Understands the needs of the customer and prioritizes those needs.</p>

<h2 id="the-team">The Team</h2>

<p>Comprised of people building the software. Individual roles are intentionally
vague.</p>

<h2 id="scrum-master">Scrum Master</h2>

<p>Responsible for making sure the <em>Scrum</em> process is followed and helps to
resolve blocking issues (e.g., between members of the team, with the product
owner, or with external dependencies)</p>

<hr />

<h1 id="scrum-user-story-defined">Scrum User Story Defined</h1>

<p>A <strong>story</strong> is a unit of functionality that exposes something new to the user
(customer). Stories are often written like:</p>

<blockquote>
  <p>As a __________, I can __________, in order to
__________.</p>
</blockquote>

<p>For example:</p>

<blockquote>
  <p>As a github gold organization, I am permitted up to 50 private repositories,
in order to securely maintain a large number of distinct projects.</p>
</blockquote>

<blockquote>
  <p>As an authenticated student user, I am able to post a question such that my
instructor knows I am asking the question but my classmates do not, in order
to ask a question my peers might not appreciate.</p>
</blockquote>

<hr />

<h1 id="scrum-sprint-defined">Scrum Sprint Defined</h1>

<p>A <strong>sprint</strong> is a specific length of time to accomplish some work.</p>

<p>Sprints may operate on the same schedule as product releases (e.g., 2-week
Sprints immediately followed by releasing whatever was accomplished) however,
it’s not necessary.</p>

<hr />

<h1 id="scrum-process">Scrum Process</h1>

<p><img src="scrum_process.png" alt="Scrum Process" /></p>

<hr />

<h1 id="scrum-process-1">Scrum Process</h1>

<p>At the start of each sprint is the <strong>sprint planning meeting</strong> to decide the
“sprint commitment”.</p>

<p>Stories are pulled from the prioritized product backlog into the sprint
backlog. The team may decide to pull stories in a slightly different order
depending on various constraints. So <em>agile</em>.</p>

<p>The team decides how many stories to pull based on their prior estimate of
those stories’ effort (done in <em>grooming</em>) relative to their current
<em>velocity</em>. Velocity is often the average amount of <em>work</em> delivered over the
last three weeks.</p>

<p>After the sprint planning meeting the commitment is <em>frozen</em> and the team works
through the sprint backlog for the duration of the sprint.</p>

<p>Each day the team has a <strong>stand up</strong> meeting to discuss what is currently being
worked on, and to discover any <em>blocking</em> issues.</p>

<hr />

<h1 id="end-of-sprint">End of Sprint</h1>

<p>A <strong>sprint review</strong> is conducted at the end of the sprint to demo what was
accomplished. Everything considered completed should be ready to be released to
customers (also referred to as <strong>shippable</strong>).</p>

<p>Finally a <strong>sprint retrospective</strong> is conducted for the team to reflect on how
well or poorly things went during the sprint. The team discusses how they can
improve their process and (hopefully) comes out of the meeting with concrete
ideas to be acted upon in the next sprint.</p>

<hr />

<h1 id="cs291-simplified-scrum-optional">CS291 Simplified Scrum (Optional)</h1>

<ul>
  <li>
    <p>No product owner</p>
  </li>
  <li>
    <p>No scrum master</p>
  </li>
  <li>
    <p>Once per week:</p>

    <ul>
      <li>
        <p>Conduct a brief retrospective</p>
      </li>
      <li>
        <p>Determine commitment for the next sprint</p>
      </li>
    </ul>
  </li>
  <li>
    <p>During Team Demo Time</p>

    <ul>
      <li>Demo your sprint (last week’s worth of) progress to me</li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="test-driven-development">Test Driven Development</h1>

<p>Assume we have a large group of software engineers working on the same project.</p>

<p>Every day, each engineer makes many changes to the project.</p>

<p>Human error is common and information is not global.</p>

<p>Errors will happen.</p>

<p>–</p>

<blockquote>
  <p>How do we discover when errors occur?</p>
</blockquote>

<hr />

<h1 id="discovering-errors">Discovering Errors</h1>

<ul>
  <li>
    <p>Humans can be used to check for defects, but this is expensive.</p>
  </li>
  <li>Type systems and compilers work well to statically check for defects, but can
only discover certain classes of errors.
    <ul>
      <li>Formal verification tools exist, but are not widely used in industry.</li>
    </ul>
  </li>
  <li>Automated testing</li>
</ul>

<hr />

<h1 id="automated-testing">Automated testing…</h1>

<ul>
  <li>
    <p>… is writing testing code to execute your production code and make
assertions about how it should behave.</p>
  </li>
  <li>
    <p>… can be measured by code coverage tools that determine which code paths
are executed by your tests.</p>
  </li>
  <li>
    <p>… allows you to build large and complex systems with very permissive
languages.</p>

    <ul>
      <li>For a dynamically typed language like Ruby, automated testing can make up
for the lack of static checks normally done by a compiler.</li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="automated-testing-how">Automated Testing: How?</h1>

<p><strong>If automated testing is important and we want significant code coverage (not
necessarily 100%), how do we get there?</strong></p>

<ul>
  <li>
    <p>Don’t write any production code, until there is test code that tests the
desired functionality.</p>
  </li>
  <li>
    <p>Write the minimal amount of production code to make the test(s) pass.</p>
  </li>
</ul>

<p>–</p>

<h2 id="steps">Steps</h2>

<ol>
  <li>
    <p>(<strong>RED</strong>) Write the simplest test case to observe a failure – actually
observe it!</p>
  </li>
  <li>
    <p>(<strong>GREEN</strong>) Write the least amount of code to observe the test pass.</p>
  </li>
  <li>
    <p>(<strong>REFACTOR</strong>) Clean up your design of both the code and tests.</p>
  </li>
</ol>

<hr />

<h1 id="tdd-example-fizzbuzz">TDD Example: FizzBuzz</h1>

<ul>
  <li>
    <p>If the argument is divisible by three, return “Fizz”</p>
  </li>
  <li>
    <p>If the argument is divisible by five, return “Buzz”</p>
  </li>
  <li>
    <p>If the argument is divisible by both return “FizzBuzz”</p>
  </li>
  <li>
    <p>Otherwise return the argument</p>
  </li>
</ul>

<hr />

<h1 id="test-fizz-red">Test Fizz (red)</h1>

<h2 id="test">Test</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_divisible_by_3</span>
  <span class="n">assert_equal</span> <span class="s1">'Fizz'</span><span class="p">,</span> <span class="n">fizzbuzz</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p>–</p>

<h2 id="program">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="c1"># test_divisible_by_3 fails</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="test-fizz-green">Test Fizz (green)</h1>

<h2 id="test-1">Test</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_divisible_by_3</span>
  <span class="n">assert_equal</span> <span class="s1">'Fizz'</span><span class="p">,</span> <span class="n">fizzbuzz</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="program-1">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="s1">'Fizz'</span>
  <span class="c1"># test_divisible_by_3 passes</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="test-buzz-red">Test Buzz (red)</h1>

<h2 id="test-2">Test</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_divisible_by_5</span>
  <span class="n">assert_equal</span> <span class="s1">'Buzz'</span><span class="p">,</span> <span class="n">fizzbuzz</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p>–</p>

<h2 id="program-2">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="s1">'Fizz'</span>
  <span class="c1"># test_divisible_by_3 passes</span>
  <span class="c1"># test_divisible_by_5 fails</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="test-buzz-green">Test Buzz (green)</h1>

<h2 id="test-3">Test</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_divisible_by_5</span>
  <span class="n">assert_equal</span> <span class="s1">'Buzz'</span><span class="p">,</span> <span class="n">fizzbuzz</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="program-3">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="s1">'Fizz'</span>
  <span class="k">else</span>
    <span class="s1">'Buzz'</span>
  <span class="k">end</span>
  <span class="c1"># test_divisible_by_3 passes</span>
  <span class="c1"># test_divisible_by_5 passes</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="test-fizzbuzz-red">Test FizzBuzz (red)</h1>

<h2 id="test-4">Test</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_divisible_by_both</span>
  <span class="n">assert_equal</span> <span class="s1">'FizzBuzz'</span><span class="p">,</span> <span class="n">fizzbuzz</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p>–</p>

<h2 id="program-4">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="s1">'Fizz'</span>
  <span class="k">else</span>
    <span class="s1">'Buzz'</span>
  <span class="k">end</span>
  <span class="c1"># test_divisible_by_3 passes</span>
  <span class="c1"># test_divisible_by_5 passes</span>
  <span class="c1"># test_divisible_by_both fails</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="test-fizzbuzz-green">Test FizzBuzz (green)</h1>

<h2 id="test-5">Test</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_divisible_by_both</span>
  <span class="n">assert_equal</span> <span class="s1">'FizzBuzz'</span><span class="p">,</span> <span class="n">fizzbuzz</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="program-5">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
      <span class="s1">'FizzBuzz'</span>
    <span class="k">else</span>
      <span class="s1">'Fizz'</span>
    <span class="k">end</span>
  <span class="k">else</span>
    <span class="s1">'Buzz'</span>
  <span class="k">end</span>
  <span class="c1"># test_divisible_by_3 passes</span>
  <span class="c1"># test_divisible_by_5 passes</span>
  <span class="c1"># test_divisible_by_both passes</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="test-other-red">Test Other (red)</h1>

<h2 id="test-6">Test</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_divisible_by_neither</span>
  <span class="n">assert_equal</span> <span class="mi">17</span><span class="p">,</span> <span class="n">fizzbuzz</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p>–</p>

<h2 id="program-6">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
      <span class="s1">'FizzBuzz'</span>
    <span class="k">else</span>
      <span class="s1">'Fizz'</span>
    <span class="k">end</span>
  <span class="k">else</span>
    <span class="s1">'Buzz'</span>
  <span class="k">end</span>
  <span class="c1"># test_divisible_by_3 passes</span>
  <span class="c1"># test_divisible_by_5 passes</span>
  <span class="c1"># test_divisible_by_both passes</span>
  <span class="c1"># test_divisible_by_neither fails</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="test-other-green">Test Other (green)</h1>

<h2 id="program-7">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
      <span class="s1">'FizzBuzz'</span>
    <span class="k">else</span>
      <span class="s1">'Fizz'</span>
    <span class="k">end</span>
  <span class="k">elsif</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="s1">'Buzz'</span>
  <span class="k">else</span>
    <span class="n">n</span>
  <span class="k">end</span>
  <span class="c1"># test_divisible_by_3 passes</span>
  <span class="c1"># test_divisible_by_5 passes</span>
  <span class="c1"># test_divisible_by_both passes</span>
  <span class="c1"># test_divisible_by_neither passes</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="fizzbuzz-refactor">FizzBuzz Refactor</h1>

<h2 id="program-8">Program</h2>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">15</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="s1">'FizzBuzz'</span>
  <span class="k">elsif</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="s1">'Fizz'</span>
  <span class="k">elsif</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="s1">'Buzz'</span>
  <span class="k">else</span>
    <span class="n">n</span>
  <span class="k">end</span>
  <span class="c1"># test_divisible_by_3 passes</span>
  <span class="c1"># test_divisible_by_5 passes</span>
  <span class="c1"># test_divisible_by_both passes</span>
  <span class="c1"># test_divisible_by_neither passes</span>
<span class="k">end</span>
</code></pre></div></div>

<hr />

<h1 id="types-of-tests">Types of Tests</h1>

<p>The previous FizzBuzz example demonstrated <strong>unit</strong> tests. Other types of tests
are:</p>

<ul>
  <li>
    <p>Functional</p>
  </li>
  <li>
    <p>Integration</p>
  </li>
  <li>
    <p>System</p>
  </li>
  <li>
    <p>Acceptance</p>
  </li>
</ul>

<p>Whenever you discover a bug, the first thing you <em>should</em> do is write a test
that demonstrates the failure caused by the bug. Then fix the code and observe
it passing. Building this set of tests helps prevent the introduction of a
<em>regression</em>.</p>

<hr />

<h1 id="testing-pyramid">Testing Pyramid</h1>

<p>.center[<img src="test-pyramid.png" alt="Test Pyramid" />]</p>

<p>There should be signficantly more unit tests than higher-level tests.</p>

<p>Source: https://martinfowler.com/bliki/TestPyramid.html</p>

<hr />

<h1 id="tdd-encouragement">TDD Encouragement</h1>

<p>When working on your projects I strongly recommend that you begin by trying out
test driven development.</p>

<p>High test coverage can help you avoid getting stuck on bugs, which is even more
important as more people are working on the same code.</p>

<p>Your grade does not depend on your code coverage, however, significant code
coverage will help to ensure a bug is not introduced prior to your team’s
presentation (that would impact your grade). It should also help reduce the
time to <strong>integrate</strong> feature branch changes.</p>

<hr />

<h1 id="integration">Integration</h1>

<p>Taking independently developed changes and reconciling their conflicts.</p>

<p>Integration can be very difficult and painful.</p>

<blockquote>
  <p>Should we perform integration as rarely as possible or as frequently as
possible?</p>
</blockquote>

<hr />

<h1 id="martin-fowler">Martin Fowler</h1>

<p>.left-column40[
.center[
<img src="martin_fowler.jpg" alt="Martin Fowler" /></p>

<p>Chief Scientist, ThoughtWorks
]
]
.right-column60[</p>

<blockquote>
  <p>The effort of integration is exponentially proportional to the amount of time
between integrations.]</p>
</blockquote>

<hr />

<h1 id="reconcile-early-and-often">Reconcile Early and Often</h1>

<p>If we never let our changes diverge too much from the rest of the group,
reconciling our changes will never be too hard.</p>

<p><strong>Conclusion</strong>: commit early and often, and merge others’ changes early and
often</p>

<blockquote>
  <p>How do we ensure we have successfully reconciled?</p>
</blockquote>

<hr />

<h1 id="continuous-integration">Continuous Integration</h1>

<p><strong>Automated Tests!</strong></p>

<p>Utilize a <strong>Continuous Integration</strong> server (CI) that will monitor changes to
your source code.</p>

<p>Whenever anyone checks in new code, run all the tests.</p>

<ul>
  <li>
    <p>The sooner you find and fix integration problems, the better.</p>
  </li>
  <li>
    <p>This also prevents defects unrelated to integration.</p>
  </li>
</ul>

<p>The CI server can also test code quality and security, among other things.</p>

<hr />

<h1 id="ci-via-github-actions">CI via GitHub Actions</h1>

<p>.center[<img src="praw_github_actions.png" alt="PRAW GitHub Actions" />]</p>

<hr />

<h1 id="github-actions">GitHub Actions</h1>

<p>You will configure your primary project to use <a href="https://github.com/features/actions">GitHub Actions</a></p>

<p>Consider using GitHub Actions for Project 3 too.</p>

<p>GitHub actions is free for open-source projects.</p>

<p>If you are doing TDD and creating automated tests, GitHub Actions will provide you
with immediate feedback on your changes through GitHub:</p>

<p>.center[<img src="github_pr_all_is_well.png" alt="Github Pull Request &quot;All is well&quot;" />]</p>

<hr />

<h1 id="other-related-tools">Other Related Tools</h1>

<h2 id="coveralls">Coveralls</h2>

<p>Web service that provides view into code coverage that occurs during the
testing phase. Integrates with GitHub and can be configured to
<em>fail</em> pull requests that decrease code coverage.</p>

<p>https://coveralls.io/</p>

<p>Free for open source projects.</p>

<h2 id="rubocop">Rubocop</h2>

<p>A static analysis tool for ruby that suggests source code improvements
encompassing code style, unused variables, visually ambiguous statements, and
more.</p>

<p>https://github.com/bbatsov/rubocop</p>

<hr />

<h1 id="workflow">Workflow</h1>

<p>We know that we do not want our changes to diverge too far from the rest of
the group.</p>

<blockquote>
  <p>What’s the right way to use our source control system to accomplish this
goal?</p>
</blockquote>

<p>There are two popular git-based workflow systems:</p>

<ul>
  <li>
    <p><a href="http://nvie.com/posts/a-successful-git-branching-model/">Git-flow</a></p>
  </li>
  <li>
    <p><a href="https://guides.github.com/introduction/flow/">GitHub Flow</a></p>
  </li>
</ul>

<p>GitHub Flow is simpler and recommended for this class.</p>

<hr />

<h1 id="github-flow">GitHub Flow</h1>

<ol>
  <li>
    <p>Ensure your main branch is up-to-date with the remote (often called
<code class="language-plaintext highlighter-rouge">origin</code>)</p>
  </li>
  <li>
    <p>Create a new branch for your feature (often called a <code class="language-plaintext highlighter-rouge">feature branch</code>)</p>
  </li>
  <li>
    <p>Make regular
<a href="https://www.freshconsulting.com/atomic-commits/">atomic commits</a> to the
feature branch</p>
  </li>
  <li>
    <p>Regularly push your local changes to the remote branch on github</p>
  </li>
  <li>
    <p>Open a github pull request when the work on the feature branch is complete, or when you want feedback</p>
  </li>
  <li>
    <p>Have a group member perform a <em>code review</em> of your changes</p>
  </li>
  <li>
    <p>If there are issues to address from <em>code review</em>, resolve them</p>
  </li>
  <li>
    <p>If there are test failures (you’ve set up a CI system, right?) fix them</p>
  </li>
  <li>
    <p>Merge the branch to main when everything is good-to-go</p>
  </li>
</ol>

<p><strong>Note</strong>: We neglected the <em>deploy</em> phase just prior to merging.</p>

<hr />

<h1 id="github-flow-commands">GitHub Flow Commands</h1>

<h2 id="ensure-your-main-branch-is-up-to-date-with-the-remote">Ensure your main branch is up-to-date with the remote</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull
</code></pre></div></div>

<h2 id="create-a-new-branch-for-your-feature">Create a new branch for your feature</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> feature_name
</code></pre></div></div>

<h2 id="commit-to-the-feature-branch-regularly">Commit to the feature branch regularly</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="o">[</span>files...]
git commit <span class="nt">-m</span> <span class="s2">"Add a brief useful description of changes"</span>
</code></pre></div></div>

<h2 id="push-local-changes-to-the-remote">Push local changes to the remote</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-u</span> origin HEAD
</code></pre></div></div>

<hr />

<h1 id="integration-with-git">Integration with Git</h1>

<p>Recall what we want to reconcile our changes regularly. Feature branches should
be no more than a day or two out-of-sync with their parent branch.</p>

<p>If you want to reconcile your changes without merging to main, a <strong>git
rebase</strong> is very useful:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase main feature_branch
</code></pre></div></div>

<p>.center[<img src="git_rebase.png" alt="git rebase" />]</p>

<hr />

<h1 id="git-interactive-rebase">Git Interactive Rebase</h1>

<p>.left-column40[
If you have been committing frequently and want to squash some commits,
consider an interactive rebase:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase <span class="nt">-i</span> main
</code></pre></div></div>
<p>]
.right-column60[
.center[<img src="git_interactive_rebase.png" alt="git interactive rebase" />]
]</p>

<hr />

<h1 id="pair-programming">Pair Programming</h1>

<p>.left-column[
.center[<img src="pair_programming.png" alt="Pair programming" />]</p>

<p>Two developers share one computer and discuss all code that is being written.
]
.right-column[</p>
<h3 id="driver-navigator">Driver-Navigator</h3>

<p>One person does most of the implementation while the other watches, discusses,
thinks of consequences, and looks forward.</p>

<h3 id="ping-pong-pairing">Ping-pong pairing</h3>

<p>One person writes the test, the other makes it pass. This approach is
frequently used while learning TDD and pair programming.</p>

<p>In both approaches, pairs should regularly switch roles (e.g., every twenty
minutes).
]</p>

<hr />

<h1 id="pairing-problem-complexity">Pairing: Problem Complexity</h1>

<p>.center[<img src="pairing_and_problem_complexity.png" alt="pairing usefulness as a function of problem complexity" />]</p>

<p>Source: Dr. Andrew Mutz</p>

<hr />

<h1 id="pairing-expertise-disparity">Pairing: Expertise Disparity</h1>

<p>.center[<img src="pairing_and_expertise_disparity.png" alt="pairing usefulness as a function of expertise_disparity" />]</p>

<p>Source: Dr. Andrew Mutz</p>

<hr />

<h1 id="pairing-code-reading">Pairing: Code Reading</h1>

<p>.center[<img src="pairing_and_code_reading.png" alt="pairing usefulness as a function of amount of time spent reading code" />]</p>

<p>Source: Dr. Andrew Mutz</p>

<hr />

<h1 id="pairing-in-this-class">Pairing in this class</h1>

<p>Pair programming is <strong>strongly</strong> encouraged, but not required.</p>

<p>When you pair you will inevitably experience more of your project. This means
you can claim you worked on that component in an interview, and as a result
should be able to sufficiently explain what was done.</p>

<p>On the other hand, it is possible for there to be bad pairings among your
group. If you don’t feel it is working out, then simply don’t do it.</p>

<hr />

<h1 id="mob-programming-aka-mobbing">Mob Programming (aka Mobbing)</h1>

<p>Like pair programming, but involving 3+ people.</p>

<ul>
  <li><a href="https://www.agilealliance.org/resources/sessions/mob-programming-aatc2017/">https://www.agilealliance.org/resources/sessions/mob-programming-aatc2017/</a></li>
  <li><a href="https://www.remotemobprogramming.org/">https://www.remotemobprogramming.org/</a></li>
</ul>

    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js"
            type="text/javascript"></script>
    <script type="text/javascript">
      var hljs = remark.highlighter.engine;
      var slideshow = remark.create({
          highlightLanguage: 'ruby',
          highlightLines: true,
          hightlightSpans: true,
          highlightStyle: 'monokai'
        }) ;
    </script>
  </body>
</html>
